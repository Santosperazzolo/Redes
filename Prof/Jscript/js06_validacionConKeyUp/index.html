<!doctype html>
<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Ejer validación con onKeyUp</title>
    <style>
      body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;color:#111;margin:0}
      h1{font-size:22px;font-weight:700;margin:16px}
      .panel{max-width:980px;margin:0 auto 40px;background:#a9d3e6;padding:16px;border-top:4px solid #8fbfd6}
      label{display:block;margin:10px 0 4px}
      input[type="text"]{width:260px;padding:8px;border:1px solid #9aa6b2;border-radius:3px}
      .fila-btns{display:flex;gap:12px;max-width:800px;margin:18px auto 0}
      .fila-btns button{flex:1 1 0;padding:10px;background:#e9dfe6;border:1px solid #c2b7c0;border-radius:3px;font-weight:600}
      .msg{height:18px;font-size:13px;color:#b00020;margin:4px 0 0}
      .ok{color:#0a7b12}
      .campo{margin-left:16px}
      .grid{display:grid;grid-template-columns:auto 1fr;column-gap:8px;row-gap:6px;max-width:420px;margin-left:16px}
      .invalid{border-color:#b00020;outline-color:#b00020}
      .valid{border-color:#1b8f2a;outline-color:#1b8f2a}
      #resultado{margin:12px 16px 0;font-weight:600}
    </style>
  </head>
  <body>
    <h1>Ejer validación de un INPUT de formulario en el evento de onKeyUp</h1>
    <div class="panel">
      <div class="grid">
        <div>Ingrese el día del mes:</div>
        <div class="campo">
          <input id="dia" type="text" inputmode="numeric" autocomplete="off" />
          <div id="msgDia" class="msg" aria-live="polite"></div>
        </div>

        <div>Ingrese el mes:</div>
        <div class="campo">
          <input id="mes" type="text" inputmode="numeric" autocomplete="off" />
          <div id="msgMes" class="msg" aria-live="polite"></div>
        </div>
      </div>

      <div class="fila-btns">
        <button id="enviar" disabled>Enviar</button>
        <button id="reset">Reset</button>
      </div>

      <div id="resultado" aria-live="polite"></div>
    </div>

    <script>
      const dia = document.getElementById('dia');
      const mes = document.getElementById('mes');
      const msgDia = document.getElementById('msgDia');
      const msgMes = document.getElementById('msgMes');
      const enviar = document.getElementById('enviar');
      const reset = document.getElementById('reset');
      const resultado = document.getElementById('resultado');

      function soloDigitos(v){return v.replace(/\D+/g,'');}
      function setValido(input,msgEl,ok,msg){
        input.classList.toggle('valid', ok);
        input.classList.toggle('invalid', !ok && input.value.length>0);
        msgEl.textContent = msg || '';
        msgEl.classList.toggle('ok', ok && input.value.length>0);
        enviar.disabled = !(validarDia() && validarMes());
      }
      function validarDia(){
        dia.value = soloDigitos(dia.value).slice(0,2);
        const n = Number(dia.value);
        const ok = Number.isInteger(n) && n>=1 && n<=31;
        setValido(dia,msgDia,ok, ok? '': 'Día 1–31');
        return ok;
      }
      function validarMes(){
        mes.value = soloDigitos(mes.value).slice(0,2);
        const n = Number(mes.value);
        const ok = Number.isInteger(n) && n>=1 && n<=12;
        setValido(mes,msgMes,ok, ok? '': 'Mes 1–12');
        return ok;
      }
      dia.addEventListener('keyup', validarDia);
      mes.addEventListener('keyup', validarMes);

      enviar.addEventListener('click', function(){
        if(!(validarDia()&&validarMes())) return;
        const d = String(dia.value).padStart(2,'0');
        const m = String(mes.value).padStart(2,'0');
        resultado.textContent = `Fecha válida: ${d}/${m}`;
      });
      reset.addEventListener('click', function(){
        dia.value = '';
        mes.value = '';
        msgDia.textContent = '';
        msgMes.textContent = '';
        dia.classList.remove('valid','invalid');
        mes.classList.remove('valid','invalid');
        resultado.textContent='';
        enviar.disabled = true;
        dia.focus();
      });
    </script>
  </body>
  </html>
